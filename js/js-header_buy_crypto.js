"use strict";!async function(){function a(){$.cookie("defaultBuyCryptoFiat")&&$.cookie("defaultBuyCryptoFiat")===window.setDefaultBuyCryptoFiat?(g=$.cookie("defaultBuyCryptoFiat"),$(".buy-crypto-selected-item .buy-crypto-selected-currency-name").text(g),$(".buy-crypto-selected-item .buy-crypto-selected-item-icon").attr("src",`/images/coin_icon/fiat/${g.toUpperCase()}2x.png`)):(g=window.setDefaultBuyCryptoFiat,$.cookie("defaultBuyCryptoFiat",g,{expires:365,path:"/",secure:!0}))}function b(a,b){const c=a.find(a=>a.fiat.toUpperCase()===b.toUpperCase());if($(".buy-crypto-card-url").attr("href",`/buy_crypto?method=card&fiat=${b.toUpperCase()}`),$(".buy-crypto-bank-url").attr("href",`/buy_crypto?method=bank&fiat=${b.toUpperCase()}`),$(".buy-crypto-c2c-url").attr("href",`/c2c/USDT_${b.toUpperCase()}`),c){const{bank_transfer:a,credit_card:b,p2p:d}=c;a&&"1"==window.is_show_fiat_page?$("#buy-crypto-bank").show():$("#buy-crypto-bank").hide(),b&&"1"==window.is_show_fiat_page?$("#buy-crypto-card").show():$("#buy-crypto-card").hide(),d&&"1"==window.is_c2c_page?$("#buy-crypto-c2c").show():$("#buy-crypto-c2c").hide()}}function c(a){let b=[];b=a.map(a=>{const{fiat:b}=a;return`<div class='buy-crypto-fiat-item ${g.toUpperCase()===b.toUpperCase()?"active":""}' data-fiat='${b}'>
      <img class='buy-crypto-selected-item-icon' src='/images/coin_icon/fiat/${b.toUpperCase()}2x.png' onerror="icon_error(this, 'buy-crypto-selected-item-icon')" />
        <span class = 'buy-crypto-selected-currency-name'>${b.toUpperCase()}</span>
      </div>`}),0===b.length?$(".buy-crypto-pay-with-currency-list").html("<div class=\"no-search-data-container\"><div class=\"noorder\"></div><div class=\"no-search-data\">"+lang_string("\u6682\u65E0\u6570\u636E")+"</div></div>"):$(".buy-crypto-pay-with-currency-list").html(b.join(""))}function d(a){$(a).val(filterXSS($(a).val(),1));const b=filterXSS(a.value.toUpperCase(),1);if(0===b.length)c(f);else{const a=f.filter(a=>-1!==a.fiat.toUpperCase().indexOf(b.toUpperCase()));c(a)}}function e(){if(!is_phone)$("#mainNav .buy-crypto-selected-item").on("click",function(a){a.stopPropagation();var b=$(".buy-crypto-pay-with-search-container");b.is(":visible")?(b.hide(),$(this).removeClass("buy-crypto-selected-item-active")):(b.show(),$(this).addClass("buy-crypto-selected-item-active"))}),$("#buy-crypto-nav .liveArea").hover(()=>{},()=>{var a=$(".buy-crypto-pay-with-search-container");a.hide(),$("#mainNav .buy-crypto-selected-item").removeClass("buy-crypto-selected-item-active")});else{var a=$(".buy-crypto-pay-with-search-container");$("#mainNav .buy-crypto-selected-item").on("click",function(b){b.stopPropagation(),a.is(":visible")?a.addClass("buy-crypto-pay-with-search-container-full-screen"):a.removeClass("buy-crypto-pay-with-search-container-full-screen")}),$("#mainNav .buy-crypto-pay-with-search-container .buy-crypto-pay-with-close-btn").on("click",function(){a.hide(),$("#mainNav .buy-crypto-selected-item .icon.top-menu-arrow.icon-active").removeClass("menu-arrow-active"),$("#buy-crypto-search-fiat").val("")})}var c=$("#buy-crypto-search-fiat"),e=$(".buy-crypto-pay-with-currency-list"),g=!1;c.attr("placeholder",lang_string("\u641C\u7D22")),c.on("input propertychange",function(){g||d(this)}).on("compositionstart",function(){g=!0}).on("compositionend",function(){g=!1,g||d(this)}),e.on("click",".buy-crypto-fiat-item",function(){var a=$(this).attr("data-fiat");$(this).addClass("active"),$(this).siblings().removeClass("active"),$.cookie("defaultBuyCryptoFiat",a,{expires:365,path:"/",secure:!0}),$(".buy-crypto-selected-item .buy-crypto-selected-item-icon").attr("src",`/images/coin_icon/fiat/${a.toUpperCase()}2x.png`),$(".buy-crypto-selected-item .buy-crypto-selected-currency-name").text(`${a.toUpperCase()}`),is_phone&&$(".buy-crypto-pay-with-search-container").hide(),b(f,a)})}var f=[],g="",h=await getDataFromIndexedDB("buy_crypto_fiat_setting",60);a(),h?(f=h,c(f)):function(){$.ajax({type:"post",url:"/json_svr/buy_crypto_fiat_setting",success:function(a){const{datas:d,resMsg:e}=a;0===e.code&&0<d.length&&(f=d,c(d),addDataToIndexDB("buy_crypto_fiat_setting",d),b(d,g))}})}(),b(f,g),$(function(){e()})}();