function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const upgradeAnimationDatas={"v":"5.9.6","fr":60,"ip":0,"op":120,"w":848,"h":848,"nm":"Comp 1","ddd":0,"assets":[{"id":"image_0","w":176,"h":138,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_0.png","e":0},{"id":"image_1","w":147,"h":58,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_1.png","e":0},{"id":"image_2","w":42,"h":95,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_2.png","e":0},{"id":"image_3","w":155,"h":129,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_3.png","e":0},{"id":"image_4","w":184,"h":64,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_4.png","e":0},{"id":"image_5","w":148,"h":139,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_5.png","e":0},{"id":"image_6","w":148,"h":58,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_6.png","e":0},{"id":"image_7","w":1224,"h":640,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_7.png","e":0},{"id":"image_8","w":364,"h":382,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_8.png","e":0},{"id":"image_9","w":330,"h":402,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_9.png","e":0},{"id":"image_10","w":632,"h":694,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_10.png","e":0},{"id":"image_11","w":542,"h":460,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_11.png","e":0},{"id":"image_12","w":199,"h":454,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_12.png","e":0},{"id":"image_13","w":1271,"h":62,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_13.png","e":0},{"id":"image_14","w":1473,"h":164,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_14.png","e":0},{"id":"image_15","w":1401,"h":966,"u":"/images/pro_trade/unifiedUpgrade/","p":"img_15.png","e":0}],"layers":[{"ddd":0,"ind":1,"ty":2,"nm":"图层 93","refId":"image_0","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":35,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":45,"s":[100]},{"t":120,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.299,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[197.701,313.668,0],"to":[3.668,5.502,0],"ti":[-9.819,-11.908,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.642,"y":0},"t":35,"s":[202.928,280.615,0],"to":[8.029,9.736,0],"ti":[0,-11.996,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":71,"s":[217.701,333.668,0],"to":[0,26.667,0],"ti":[6.667,-15,0]},{"t":120,"s":[177.701,423.668,0]}],"ix":2,"l":2},"a":{"a":0,"k":[88,69,0],"ix":1,"l":2},"s":{"a":0,"k":[33.271,33.271,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":2,"nm":"图层 92","refId":"image_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":35,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":45,"s":[100]},{"t":120,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.299,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[136.526,441.324,0],"to":[-3.668,5.502,0],"ti":[9.819,-11.908,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.642,"y":0},"t":35,"s":[91.3,408.271,0],"to":[-8.029,9.736,0],"ti":[0,-11.996,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":71,"s":[76.526,461.324,0],"to":[0,26.667,0],"ti":[-6.667,-15,0]},{"t":120,"s":[116.526,551.324,0]}],"ix":2,"l":2},"a":{"a":0,"k":[73.5,29,0],"ix":1,"l":2},"s":{"a":0,"k":[33.041,33.041,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":2,"nm":"图层 90","refId":"image_2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":35,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":45,"s":[100]},{"t":120,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.299,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[522.262,483.533,0],"to":[3.668,5.502,0],"ti":[-9.819,-11.908,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.642,"y":0},"t":35,"s":[527.489,450.48,0],"to":[8.029,9.736,0],"ti":[0,-11.996,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":71,"s":[542.262,503.533,0],"to":[0,26.667,0],"ti":[6.667,-15,0]},{"t":120,"s":[502.262,593.533,0]}],"ix":2,"l":2},"a":{"a":0,"k":[21,47.5,0],"ix":1,"l":2},"s":{"a":0,"k":[32.32,32.32,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":2,"nm":"图层 89","refId":"image_3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":35,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":45,"s":[100]},{"t":120,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.299,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[805.246,569.256,0],"to":[-3.668,5.502,0],"ti":[9.819,-11.908,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.642,"y":0},"t":35,"s":[760.019,536.203,0],"to":[-8.029,9.736,0],"ti":[0,-11.996,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":71,"s":[745.246,589.256,0],"to":[0,26.667,0],"ti":[-6.667,-15,0]},{"t":120,"s":[785.246,679.256,0]}],"ix":2,"l":2},"a":{"a":0,"k":[77.5,64.5,0],"ix":1,"l":2},"s":{"a":0,"k":[33.116,33.116,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":2,"nm":"图层 88","refId":"image_4","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":35,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":45,"s":[100]},{"t":120,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.299,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[690.607,196.98,0],"to":[-3.668,5.502,0],"ti":[-8.931,0.592,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.642,"y":0},"t":35,"s":[685.381,167.927,0],"to":[12.592,-0.835,0],"ti":[0,-11.996,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":71,"s":[730.607,216.98,0],"to":[0,26.667,0],"ti":[3.333,-15,0]},{"t":120,"s":[710.607,306.98,0]}],"ix":2,"l":2},"a":{"a":0,"k":[92,32,0],"ix":1,"l":2},"s":{"a":0,"k":[33.063,33.063,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":2,"nm":"图层 87","refId":"image_5","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":35,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":45,"s":[100]},{"t":120,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.299,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[169.965,114.951,0],"to":[3.668,5.502,0],"ti":[-9.819,-11.908,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.642,"y":0},"t":35,"s":[175.192,81.898,0],"to":[8.029,9.736,0],"ti":[0,-11.996,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":71,"s":[189.965,134.951,0],"to":[0,26.667,0],"ti":[6.667,-15,0]},{"t":120,"s":[149.965,224.951,0]}],"ix":2,"l":2},"a":{"a":0,"k":[74,69.5,0],"ix":1,"l":2},"s":{"a":0,"k":[33.031,33.031,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":2,"nm":"图层 91","refId":"image_6","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.296],"y":[-0.086]},"t":0,"s":[0]},{"i":{"x":[0.616],"y":[8.508]},"o":{"x":[0.284],"y":[-3.347]},"t":35,"s":[100]},{"i":{"x":[0.52],"y":[1]},"o":{"x":[0.204],"y":[0.299]},"t":45,"s":[100]},{"t":120,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.299,"y":1},"o":{"x":0.167,"y":0.167},"t":0,"s":[461.929,647.941,0],"to":[3.668,5.502,0],"ti":[-9.819,-11.908,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.642,"y":0},"t":35,"s":[467.155,614.888,0],"to":[8.029,9.736,0],"ti":[0,-11.996,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":71,"s":[481.929,627.941,0],"to":[0,26.667,0],"ti":[6.667,-15,0]},{"t":120,"s":[441.929,717.941,0]}],"ix":2,"l":2},"a":{"a":0,"k":[74,29,0],"ix":1,"l":2},"s":{"a":0,"k":[33.041,33.041,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":2,"nm":"金币","refId":"image_7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[234.022,591.408,0],"ix":2,"l":2},"a":{"a":0,"k":[612,320,0],"ix":1,"l":2},"s":{"a":0,"k":[33.294,33.294,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":2,"nm":"右胳膊","parent":11,"refId":"image_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[3]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":60,"s":[-5]},{"t":120,"s":[3]}],"ix":10},"p":{"a":0,"k":[572.303,413.833,0],"ix":2,"l":2},"a":{"a":0,"k":[55.623,64.623,0],"ix":1,"l":2},"s":{"a":0,"k":[99.827,99.827,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":2,"nm":"右脚","parent":11,"refId":"image_9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":60,"s":[-10]},{"t":120,"s":[0]}],"ix":10},"p":{"a":0,"k":[400.879,628.429,0],"ix":2,"l":2},"a":{"a":0,"k":[32.751,8.638,0],"ix":1,"l":2},"s":{"a":0,"k":[99.937,99.937,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":2,"nm":"盖茨","refId":"image_10","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":60,"s":[-5]},{"t":120,"s":[0]}],"ix":10},"p":{"a":0,"k":[606.352,672.973,0],"ix":2,"l":2},"a":{"a":0,"k":[171.82,1013.835,0],"ix":1,"l":2},"s":{"a":0,"k":[33.292,33.292,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":12,"ty":2,"nm":"手","parent":11,"refId":"image_11","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":27,"s":[15]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":60,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":90,"s":[15]},{"t":120,"s":[0]}],"ix":10},"p":{"a":0,"k":[83.668,402.162,0],"ix":2,"l":2},"a":{"a":0,"k":[418.022,287.008,0],"ix":1,"l":2},"s":{"a":0,"k":[100.111,100.111,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":13,"ty":2,"nm":"左脚","parent":11,"refId":"image_12","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[218.302,626.698,0],"ix":2,"l":2},"a":{"a":0,"k":[153.875,39.708,0],"ix":1,"l":2},"s":{"a":0,"k":[99.435,99.435,100],"ix":6,"l":2}},"ao":0,"ef":[{"ty":25,"nm":"Drop Shadow","np":8,"mn":"ADBE Drop Shadow","ix":1,"en":1,"ef":[{"ty":2,"nm":"Shadow Color","mn":"ADBE Drop Shadow-0001","ix":1,"v":{"a":0,"k":[0.077656239271,0.191108316183,0.295833319426,0.050000000745],"ix":1}},{"ty":0,"nm":"Opacity","mn":"ADBE Drop Shadow-0002","ix":2,"v":{"a":0,"k":12.75,"ix":2}},{"ty":0,"nm":"Direction","mn":"ADBE Drop Shadow-0003","ix":3,"v":{"a":0,"k":180,"ix":3}},{"ty":0,"nm":"Distance","mn":"ADBE Drop Shadow-0004","ix":4,"v":{"a":0,"k":9.281,"ix":4}},{"ty":0,"nm":"Softness","mn":"ADBE Drop Shadow-0005","ix":5,"v":{"a":0,"k":3.094,"ix":5}},{"ty":7,"nm":"Shadow Only","mn":"ADBE Drop Shadow-0006","ix":6,"v":{"a":0,"k":0,"ix":6}}]}],"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":14,"ty":2,"nm":"阴影1","refId":"image_13","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[438.921,641.275,0],"ix":2,"l":2},"a":{"a":0,"k":[635.5,31,0],"ix":1,"l":2},"s":{"a":0,"k":[33.043,33.043,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":15,"ty":2,"nm":"阴影","refId":"image_14","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[611.415,681.556,0],"ix":2,"l":2},"a":{"a":0,"k":[736.5,82,0],"ix":1,"l":2},"s":{"a":0,"k":[33.098,33.098,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0},{"ddd":0,"ind":16,"ty":2,"nm":"账户","refId":"image_15","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.335,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[385.644,374.937,0],"to":[0,-5.333,0],"ti":[0,0,0]},{"i":{"x":0.338,"y":1},"o":{"x":0.333,"y":0},"t":52,"s":[385.644,342.937,0],"to":[0,0,0],"ti":[0,-5.333,0]},{"t":120,"s":[385.644,374.937,0]}],"ix":2,"l":2},"a":{"a":0,"k":[700.5,483,0],"ix":1,"l":2},"s":{"a":0,"k":[33.28,33.28,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":1800,"st":0,"bm":0}],"markers":[]};function stopSw(){navigator.serviceWorker.ready.then(function(res){res.unregister();caches.keys().then(function(cacheNames){Promise.all(cacheNames.map(function(name){return caches.delete(name)}))})})}stopSw();$.noty.layouts.calLayout=generateNotyLayout(956,'','calculator_dialog');function generateNotyLayout(width,height,name){return{name,container:{object:`<ul id="noty_center_layout_container" />`,selector:`ul#noty_center_layout_container`,style:function style(){$(this).css({position:'fixed',width:`${width}px`,minWidth:`${width}px`,height:height?`${height}px`:'auto',maxHeight:$(window).height()-10,margin:'auto',padding:0,listStyleType:'none',zIndex:1e7})}},parent:{object:'<li />',selector:'li',css:{}},css:{display:'none',width:width+'px'}}}const fnAnim=()=>{let params={container:document.getElementById('lottie_unified_upgrade'),renderer:'svg',loop:true,autoplay:true,animationData:upgradeAnimationDatas};lottie.loadAnimation(params)};function clearCache(){$.ajax({url:'/',dataType:'html',cache:false,ifModified:true,complete:function(res){if(res.status===200){$("head").append(res.responseText)}}})}function initCalculator(){var _string=[],_type,input=document.getElementById("inputBox");function typetoinput(num){if(input.name=="type"){input.value=" ";input.name=" "}if(num!="."&&input.value[0]==0&&input.value[1]!="."){input.value=num}else if(num=="."&&input.value.indexOf(".")> -1){input.value=input.value}else if(input.value=="Infinity"||input.value=="NaN"){input.value="";input.value+=num}else{input.value+=num}}function operator(type){if(type==='plus'||type==='minus'||type==='multiply'||type==='divide'){if(this.calculation===1){if(checkNum(input.value)!=0){getComputedResult(_type)}}else{this.calculation=1}}switch(type){case"clear":input.value="0";_string.length=0;this.calculation=0;break;case"backspace":input.value=input.value.replace(/.$/,'');if(input.value==""){input.value="0"}break;case"opposite":if(checkNum(input.value)!=0){input.value=-input.value}break;case"percent":if(checkNum(input.value)!=0){input.value=input.value/100}break;case"pow":if(checkNum(input.value)!=0){input.value=Math.pow(input.value,2)}break;case"sqrt":if(checkNum(input.value)!=0){input.value=Math.sqrt(input.value)}break;case"plus":if(checkNum(input.value)!=0){_string.push(input.value);_type="plus";input.value="+";input.name="type"}break;case"minus":if(checkNum(input.value)!=0){_string.push(input.value);_type="minus";input.value="-";input.name="type"}break;case"multiply":if(checkNum(input.value)!=0){_string.push(input.value);_type="multiply";input.value="×";input.name="type"}break;case"divide":if(checkNum(input.value)!=0){_string.push(input.value);_type="divide";input.value="÷";input.name="type"}break;case"result":if(checkNum(input.value)!=0){this.calculation=0;getComputedResult(_type);break}}}function getComputedResult(_type1){_string.push(input.value);if(parseInt(_string.length)%2!=0){_string.push(_string[_string.length-2])}if(_type1=="plus"){input.value=parseFloat(result(_string)[0])+parseFloat(result(_string)[1]);input.name="type"}else if(_type1=="minus"){input.value=parseFloat(result(_string)[0])-parseFloat(result(_string)[1]);input.name="type"}else if(_type1=="multiply"){input.value=parseFloat(result(_string)[0])*parseFloat(result(_string)[1]);input.name="type"}else if(_type1=="divide"){input.value=parseFloat(result(_string)[0])/parseFloat(result(_string)[1]);input.name="type"}}function result(value){var result1=[];if(value.length%2==0){result1.push(value[value.length-2]);result1.push(value[value.length-1]);return result1}else{result1.push(value[value.length-1]);result1.push(value[value.length-2]);return result1}}function checkNum(inputvalue){if(inputvalue=="+"||inputvalue=="-"||inputvalue=="×"||inputvalue=="÷"){return 0}}$(document).on('keydown',disableRefresh);$("#btn-list").on('transitionend','div',function(){$(this).removeClass('press')});function disableRefresh(evt){evt=evt?evt:window.event;if(evt.keyCode){var btnName;if(evt.keyCode===13){operator('result');btnName="calcRes"}else if(evt.keyCode===8){input.focus();window.event.returnValue=false;operator('backspace');btnName="backspace"}else if(evt.keyCode===27||evt.keyCode===46){operator('clear');btnName="clear"}else if(evt.keyCode===48){typetoinput('0');btnName="calcZero"}else if(evt.keyCode===49){typetoinput('1');btnName="calc_1"}else if(evt.keyCode===50){typetoinput('2');btnName="calc_2"}else if(evt.keyCode===51){typetoinput('3');btnName="calc_3"}else if(evt.keyCode===52){typetoinput('4');btnName="calc_4"}else if(evt.keyCode===53){typetoinput('5');btnName="calc_5"}else if(evt.keyCode===54){typetoinput('6');btnName="calc_6"}else if(evt.keyCode===55){typetoinput('7');btnName="calc_7"}else if(evt.keyCode===56){typetoinput('8');btnName="calc_8"}else if(evt.keyCode===57){typetoinput('9');btnName="calc_9"}else if(evt.keyCode===96){typetoinput('0');btnName="calcZero"}else if(evt.keyCode===97){typetoinput('1');btnName="calc_1"}else if(evt.keyCode===98){typetoinput('2');btnName="calc_2"}else if(evt.keyCode===99){typetoinput('3');btnName="calc_3"}else if(evt.keyCode===100){typetoinput('4');btnName="calc_4"}else if(evt.keyCode===101){typetoinput('5');btnName="calc_5"}else if(evt.keyCode===102){typetoinput('6');btnName="calc_6"}else if(evt.keyCode===103){typetoinput('7');btnName="calc_7"}else if(evt.keyCode===104){typetoinput('8');btnName="calc_8"}else if(evt.keyCode===105){typetoinput('9');btnName="calc_9"}else if(evt.keyCode===110){typetoinput('.');btnName="calc_point"}else if(evt.keyCode===106){operator('multiply')}else if(evt.keyCode===107){operator('plus');btnName="calc_plus"}else if(evt.keyCode===111){operator('divide');btnName="calc_divide"}else if(evt.keyCode===109){operator('minus');btnName="calc_minus"}if(btnName){$("#"+btnName).addClass('press')}}}window.typetoinput=typetoinput;window.operator=operator}function replaceStr(a){return a=$.trim(a),a=a.replace(/</g,"\uFF1C").replace(/>/g,"\uFF1E").replace(/&lt;/g,"\uFF1C").replace(/&gt;/g,"\uFF1E").replace(/&quot;/g,"\u201C").replace(/script/g,"").replace(/link/g,"").replace(/style/g,"").replace(/iframe/g,"").replace(/frame/g,"").replace(/cookie/g,"").replace(/document/g,"").replace(/window/g,"").replace(/prompt/g,"").replace(/var/g,"").replace(/alert/g,"").replace(/onerror/g,"").replace(/xss/g,"").replace(/exec/g,"").replace(/system/g,"").replace(/passthru/g,"").replace(/eval/g,"").replace(/onerror/g,"").replace(/shell_exec/g,"").replace(/proc_open/g,"").replace(/popen/g,"").replace(/curl/g,"").replace(/parse_ini_file/g,"").replace(/show_source/g,"").replace(/json_svr/g,"").replace(/exchange/g,"").replace(/on_request_ask_bid/g,"").replace(/;/g,"").replace(/\t/g,"").replace(/\(/g,"").replace(/'/g,"\u2018").replace(/"/g,"\u201C").replace(/\[/g,"").replace(/&/g,""),a}$(function(){var shareList={telegram:[{lang:'بالعربية',website:'https://t.me/Gateio_Arabic'},{lang:'中國',website:'https://t.me/gate_zh'},{lang:'English',website:'https://t.me/gateio_en'},{lang:'India',website:'https://t.me/gateiohindi'},{lang:'Indonesia',website:'https://t.me/Gateio_Indonesia'},{lang:'にほん',website:'https://t.me/GateioJapanese'},{lang:'한국',website:'https://t.me/gateiokr'},{lang:'Russian',website:'https://t.me/gateiorussiachat'},{lang:'เมืองไทย',website:'https://t.me/gatethailand'},{lang:'Türkçe',website:'https://t.me/Gateio_Turkiye'},{lang:'Tiếng Việt',website:'https://t.me/gateiovietnamchat'},{lang:'Français',website:'https://t.me/Gateio_French'},{lang:'Bangladesh',website:'https://t.me/Gateio_Bengal'},{lang:'Futures',website:'https://t.me/gateio_futures'},{lang:is_cn?'量化社区':'Quantitative',website:is_cn?'https://t.me/gateio_copytrading':'https://t.me/gateio_copytrading_global'},{lang:'Margin&Loan',website:'https://t.me/GateioSpotMargin_Loan'},{lang:'Gate.io News',website:'https://t.me/GateioOfficialNews'},{lang:is_cn?'流动性挖矿':'LM',website:is_cn?'https://t.me/gateio_liquiditymining_cn':'https://t.me/gateio_liquiditymining_en'},{lang:'Leverage Token',website:'https://t.me/gateioetf'},{lang:'Nigeria',website:'https://t.me/Gateio_Nigeria'},{lang:'Україна',website:'https://t.me/gateioUkrainian'},{lang:'Portuguese',website:'https://t.me/Gateio_Brazil_Portugal'},{lang:'German',website:'https://t.me/Gateio_German'},{lang:'HODL & Earn',website:'https://t.me/gateio_hodl_en'},{lang:'GateChain official',website:'https://t.me/gatechain'},{lang:'Gate.io API Support',website:'https://t.me/gateioapi'},],twitter:[{lang:'English',website:'https://twitter.com/gate_io'},{lang:'Deutsch',website:'https://twitter.com/gateioDeutsch'},{lang:'Russian',website:'https://twitter.com/gateiorussia'},{lang:'Türkçe',website:'https://twitter.com/Gate_Turkiye'},{lang:'Tiếng Việt',website:'https://twitter.com/Gateiovietnam'},{lang:'عربي',website:'https://twitter.com/gateio_arabic'},{lang:'Français',website:'https://twitter.com/gateio_fr'},{lang:'Thailand',website:'https://twitter.com/Gateio_Thai'},{lang:'Portugal',website:'https://twitter.com/gateioportugal'},{lang:'India',website:'https://twitter.com/gateio_india'},{lang:'GateVIP',website:'https://twitter.com/GateioVIP'},{lang:'Startup',website:'https://twitter.com/Gateio_Startup'},{lang:'Hipo DeFi',website:'https://twitter.com/HipoGlobal'},{lang:'GateEarn',website:'https://twitter.com/GateEarn'},{lang:'GateioLive',website:'https://twitter.com/GateioLive'},{lang:'GateioLearn',website:'https://twitter.com/GateioLearn'},{lang:'Futures',website:'https://twitter.com/GateioFutures'},{lang:'中國',website:'https://twitter.com/gateio_zh'},{lang:'Japanese',website:'https://twitter.com/GateioJapan'},{lang:'GateChain',website:'https://twitter.com/gatechain_io'},{lang:'Wallet.io',website:'https://twitter.com/io_wallet'},{lang:'Gatsby and Blocky',website:'https://twitter.com/Gateio_Mascots'},{lang:'Gate Charity',website:'https://twitter.com/gatecharity'},],instagram:[{lang:'English',website:'https://www.instagram.com/gateioglobal/'},{lang:'한국',website:'https://www.instagram.com/gate.io/'},]};$('.share_list_icon .share_item').on('click',debounce(function(){var href=$(this).attr('data-href');window.open(href)}));var toolsMenu=$("#toolsMenu"),toolMenuHide=$("#toolMenuHide"),toolMenuShow=$("#toolMenuShow"),backTop=$("#backTop"),versionChange=$(".version-change-box"),winResizeTimer,showToolsBarByUserSet=window.localStorage.getItem('isTools');function hideToolsBar(){toolsMenu.animate({right:'-58px'},200,function(){backTop.css({position:'fixed',right:'0',bottom:'10px'});versionChange.css({position:'fixed',right:'0',bottom:'68px'});$('#toolsBox .toolsBoxItem').each(function(){$(this).hide()})});toolsMenu.removeClass('aside-show').addClass('aside-hide');toolsMenu.find('ul li.active').removeClass('active')}function showToolsBar(){toolsMenu.css('right','5px');backTop[0].style='';versionChange[0].style='position: relative;bottom: 0;';toolsMenu.addClass('aside-show').removeClass('aside-hide');toolsMenu.find('ul li.active').addClass('active')}function shouldHideToolsBar(){if(!toolsMenu.length)return;let main_content=$(".main_content,.left_con,.page-content,.lives-container,.gate-live-page,#topSection > .container"),leftbar=$(".leftbar");if(main_content.length&&leftbar.length){hideToolsBar()}else if(main_content.length){let boundary_right_of_content=main_content[0].offsetLeft+main_content.width(),toolsMenuLeft=toolsMenu[0].offsetLeft;showToolsBarByUserSet=window.localStorage.getItem('isTools');if(toolsMenuLeft<boundary_right_of_content)hideToolsBar();else if(showToolsBarByUserSet!=='1')showToolsBar()}}toolMenuHide.on('click',function(){hideToolsBar();window.localStorage.setItem('isTools',1)});toolMenuShow.on('click',function(){backTop[0].style='';versionChange[0].style='position: relative;bottom: 0;';toolsMenu.animate({right:'5px'},200);toolsMenu.addClass('aside-show').removeClass('aside-hide');window.localStorage.setItem('isTools',2)});$('.version-change-box #themeChange .show_menu_content_box').on('mouseleave',function(){$('#theme-change-icon').html(`<svg t="1653532920492" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5289" width="200" height="200"><path d="M230.4 512a281.6 281.6 0 1 0 563.2 0H1024c0 282.770286-229.229714 512-512 512S0 794.770286 0 512 229.229714 0 512 0v230.4h281.563429V512h-281.6V230.4A281.6 281.6 0 0 0 230.4 512z" fill="#ADB5CC" p-id="5290"></path></svg>`)}).on('mouseenter mousemove',function(){$('#theme-change-icon').html(`<svg t="1653532903312" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5138" width="200" height="200"><path d="M512 793.6a281.6 281.6 0 1 1 0-563.2V0C229.229714 0 0 229.229714 0 512s229.229714 512 512 512 512-229.229714 512-512h-230.4a281.6 281.6 0 0 1-281.6 281.6" fill="#2354E6" p-id="5139"></path><path d="M511.963429 512h281.6V230.4h-281.6V512z" fill="#17E6A1" p-id="5140"></path></svg>`)});$('.version-change-box #themeChange .close_menu_icon_box').on('mouseenter mousemove',function(){$('#theme-change-icon').html(`<svg t="1653532920492" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5289" width="200" height="200"><path d="M230.4 512a281.6 281.6 0 1 0 563.2 0H1024c0 282.770286-229.229714 512-512 512S0 794.770286 0 512 229.229714 0 512 0v230.4h281.563429V512h-281.6V230.4A281.6 281.6 0 0 0 230.4 512z" fill="#ADB5CC" p-id="5290"></path></svg>`)});$('#themeChange .tool-more-link').on('mouseleave',function(){$('#newTrade_icon').html(`<svg t="1653532920492" class="icon changeVersion_icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5289" width="200" height="200"><path d="M230.4 512a281.6 281.6 0 1 0 563.2 0H1024c0 282.770286-229.229714 512-512 512S0 794.770286 0 512 229.229714 0 512 0v230.4h281.563429V512h-281.6V230.4A281.6 281.6 0 0 0 230.4 512z" fill="#04091A" p-id="5290"></path></svg>`)}).on('mouseenter mousemove',function(){$('#newTrade_icon').html(`<svg t="1653532903312" class="icon changeVersion_icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5138" width="18" height="18"><path d="M512 793.6a281.6 281.6 0 1 1 0-563.2V0C229.229714 0 0 229.229714 0 512s229.229714 512 512 512 512-229.229714 512-512h-230.4a281.6 281.6 0 0 1-281.6 281.6" fill="#2354E6" p-id="5139"></path><path d="M511.963429 512h281.6V230.4h-281.6V512z" fill="#17E6A1" p-id="5140"></path></svg>`)});$("#backTopBtn").on('click',function(){$('html, body').animate({scrollTop:0},500)});$('#menuSubmitTicket').on('click',function(){let SubmitTicketDefault=$(this).data('link');$.cookie('Submit-ticket-default',SubmitTicketDefault,{path:'/',expires:365,secure:true});window.location.href='/myaccount/tickets'});var windowHeight=$(window).height(),toTopTimer,$toWebsiteTop=$("#toWebsiteTop");updateToPageTopStatus();$(window).scroll(function(){updateToPageTopStatus()});$toWebsiteTop.click(function(){$('body,html').animate({scrollTop:0},100);return false});function updateToPageTopStatus(){clearTimeout(toTopTimer);if($(window).scrollTop()>windowHeight){$toWebsiteTop.addClass('menu-top-show');toTopTimer=setTimeout(()=>{$toWebsiteTop.css('display','flex')},50)}else{$toWebsiteTop.removeClass('menu-top-show');toTopTimer=setTimeout(()=>{$toWebsiteTop.css('display','none')},50)}}var checkEmail=value=>{const regEmail=/^([a-zA-Z0-9\._-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return regEmail.test(value)},checkMobile=value=>{const regMobile=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;return regMobile.test(value)},signCheck=(val,target)=>{if(val){if(checkEmail(val)||checkMobile(val)){target.data('pass',1);target.addClass('input-success');if(target.attr('id')==='register-info-input'){target.parent().siblings('.register-info-input-msg').html('')}}else{target.addClass('input-error');if(target.attr('id')==='register-info-input'){target.parent().siblings('.register-info-input-msg').html(is_cn?'邮箱/手机号码不正确，请检查后重新输入':lang_string('邮箱格式不正确，请检查后重新输入！'))}}}else{target.addClass('input-error')}};$("#leadSignInput").on('blur',function(){signCheck($(this).val(),$(this))}).on('focus',function(){$(this).removeClass('input-error input-success')});$("#home-top-register-button").on('click',function(){var input=$("#register-info-input"),inputVal=input.val();if(!inputVal){window.location.href="/signup?mail=";return}else{signCheck(inputVal,input);if(input.data('pass')){var tempValue=input.val();window.location.href="/signup?mail="+tempValue}else{input.css('border-color','#E64E62');if(!inputVal)input.focus()}}});$("#leadSignSubmit").on('click',function(){var input=$("#leadSignInput"),inputVal=input.val();signCheck(inputVal,input);if(input.data('pass')){var tempValue=input.val();window.location.href="/signup?mail="+tempValue}else{if(!inputVal)input.focus()}});$("#toolCalculator").on('click',function(){var calculator=$("#calculator");$(this).siblings('li').removeClass('active');calculator.siblings('.toolsBoxItem').hide();if($(this).hasClass('active')){calculator.hide();$(document).off('keydown')}else{$("#inputBox").val(0);calculator.show();initCalculator()}});$('#calculator .calculator-close-btn').on('click',function(){$("#calculator").hide();$(document).off('keydown')});$('#headerDownloadApp').find('.qr-box').qrcode({render:'canvas',width:100,height:100,text:decodeURIComponent(window.location.origin+'/mobileapp/download?appLang='+g_lang)});$('#downloadApp .pc-box .download-btn').on('click',function(){var type=$(this).attr('type');var downloadLink='';switch(type){case'i-win':downloadLink=is_cn?'https://download.gateapp.org/Gateio_Setup.exe':'https://github.com/gateio/windows_app/releases/download/v1.0.4/Gateio_Setup.exe?v=102';break;case'i-mac-os':downloadLink=is_cn?'https://download.gateapp.org/Gate.io.dmg':'https://github.com/gateio/mac_app/releases/download/v1.0.2/Gate.io.dmg?v=101';break}if(downloadLink){window.open(downloadLink)}});$('#toolService').on('click',function(){$(this).siblings('li').removeClass('active');$('#toolsBox').find('.toolsBoxItem').hide();openChatWin(1)});$('#toolFeedback').on('click',function(){$(this).siblings('li').removeClass('active');$('#toolsBox').find('.toolsBoxItem').hide();if(is_cn||is_tw){if(is_login){window.open(window.location.origin+"/myaccount/tickets")}else{unLoginTip()}}else{window.open(window.location.origin+'/zendesk')}});let reminder_type='platform_notification',enterNum=0,reminder_hrefUrl={margin:'/margin_trade',future:'/futures_trade',market:'/trade',market_global:'/trade',subscription:'/posts/homepage',posts:'/posts',posts_following:'/posts/homepage',community_comment:'/posts',community_like:'/posts',notice:'/',private_notice:'/',nft_notice:'/',invest_liq_warn:'/cryptoloan/USDT',invest_liq:'/cryptoloan/USDT',invest_invest_success:'/autoinvest',rading:'/trade',invest:'/invest',startup:'/startup',strategybot:'/strategybot',copytrading:'/copytrading'},reminder_list=[];$('#header-inmail-nav span').on('click',function(e){let _key=$(this).attr('data-key');if(_key==reminder_type)return;reminder_type=_key;if($(e.currentTarget).hasClass('active')){$(e.currentTarget).removeClass('active')}else{$(e.currentTarget).addClass('active').siblings().removeClass('active')}getHeaderNoticeList(_key)});$('.href-reminder').on('click',function(e){window.location.href=is_login?'/reminder':'/login'});$('.inmail-menu').mouseleave(function(){if($('.inmailBox').css('display')=='block'){$('.inmailBox').css('display','none')}});$('.inmail-menu').mouseenter(function(){enterNum++;if(enterNum==1)getHeaderNoticeList(reminder_type);if(enterNum==4){enterNum=0;getHeaderNoticeList(reminder_type)}});function getHeaderNoticeList(type){if(!is_login){$('.inmail-list').children().remove();return $('.inmail-list').append(`<div class='noNotice'> <svg class="icon" aria-hidden="true"><use xlink:href="#gt_tongzhi"></use></svg><span>${lang_string('没有新通知')}</span></div>`)}$.ajax({url:'/reminder/get_nav_bar_notice',type:'get',data:{parent_type:type,page:1,size:10},success:function(res){const{code,datas}=JSON.parse(res);$('.inmail-list').children().remove();if(code==0){let _html='';const{list,total}=datas.list;reminder_list=list;if(Number(total)==0||list.length==0){_html=`<div class='noNotice'> <svg class="icon" aria-hidden="true"><use xlink:href="#gt_tongzhi"></use></svg><span>${lang_string('没有新通知')}</span></div>`}else{for(let i=0;i<list.length;i++){_html+=`
                <li data-val="${i}">
                  <h3 data-val="${i}">${list[i].title}</h3>
                  <div class="inmail-list-content" data-val="${i}">${list[i].content}</div>
                  <div class="inmail-list-timer" data-val="${i}">
                  ${dealTime(list[i].send_timest)} ${list[i].showlable}
                  </div>
                </li>`}$('.inmail-list').append(_html);reminderListClickFn();return}$('.inmail-list').append(_html)}}})}function dealTime(svTimest){var nowTime=new Date(),offset=-(nowTime.getTimezoneOffset()/60),timeStNum=Number(svTimest);if(!timeStNum)return;var date=new Date(timeStNum*1e3),options={hour12:false,month:'numeric',day:'numeric',hour:'numeric',minute:'numeric'},dateStr=new Intl.DateTimeFormat('zh-CN',options).format(date).replace(/\//g,'-');return dateStr}function reminderListClickFn(){$('.inmail-list>li').on('click',function(e){let val=reminder_list[$(this).attr('data-val')],_lau=window.location.pathname.split('/')[1],_url=reminder_hrefUrl[val.type]||reminder_hrefUrl[`${val.type}_${val.template_id}`];if(_lau.length!=2)_lau='en';const{url,timid,mid,web_url,notice_content}=val.extras;switch(_url){case'/':window.open(web_url||url||JSON.parse(notice_content).web.link);break;case undefined:break;case'/trade':if(val.type=='rading')return window.open(`/${_lau}${_url}/${val.extras.market}`);let _cur=val.template_args[0];window.open(_cur.includes('/')?`/${_lau}${_url}/${_cur.replace('/','_')}`:`/${_lau}${_url}/${_cur}_USDT`);break;case'/margin_trade':let _cur1=val.template_args[0];window.open(_cur1.includes('_')?`/${_lau}${_url}/${_cur1}`:`/${_lau}/myaccount/myfunds/cross_margin`);break;case'/futures_trade':let _cur2=val.template_args[0].split('/');window.open(`/${_lau}${_url}/${_cur2[1]}/${_cur2[0]}_${_cur2[1]}`);break;case'/startup':window.open(`/${_lau}${_url}/${val.extras.startup_id}`);break;case'/strategybot':window.open(`/${_lau}${_url}/historyStrategy`);break;case'/copytrading':window.open(`/${_lau}${_url}/underwayStrategy`);break;case'/invest':window.open(`${url||web_url}`);break;default:if(_url)window.open(`/${_lau}${_url}`);break}})}$('#toolCalendar').on('click',function(){$(this).siblings('li').removeClass('active');$('#toolsBox').find('.toolsBoxItem').hide();window.open(window.location.origin+"/calendar")});$('.header-righttop-second-menu-a').click(function(){$(this).siblings('ul').toggle();$(this).children('.icon').toggleClass('rotate90');if($(this).hasClass('this-expanded')){$(this).removeClass('this-expanded')}else{$(this).addClass('this-expanded')}});$('.mywalfare-a').click(function(){$('.my-walfare-ul').toggle();$(this).find('.arrowicon').toggleClass('rotate180deg');$(this).toggleClass('this-expanded')});$('.reward-center-a').click(function(){$('.my-reward-center-ul').toggle();$(this).find('.arrowicon').toggleClass('rotate180deg');$(this).toggleClass('this-expanded')});function setCB(){const lsRefTime=$.cookie('change-reftime');switch(lsRefTime){case'24h':$('#reftime-24h').prop('checked',true).parent().parent().addClass('active');break;case'utc0':$('#reftime-utc0').prop('checked',true).parent().parent().addClass('active');break;case'utc8':$('#reftime-utc8').prop('checked',true).parent().parent().addClass('active');break;default:$('#reftime-24h').prop('checked',true).parent().parent().addClass('active')}}setCB();$('.reftime-container>div').on('click',function(e){e.preventDefault();$(this).siblings().find('input').prop('checked',false);$(this).find('input').prop('checked',true);changeReftime()});function changeReftime(){const reftime=$('.reftime-container input:checked').val();if(reftime!=='24h'){$.cookie('change-reftime',reftime,{path:'/',expires:365,secure:true})}else{$.removeCookie('change-reftime',{path:'/',secure:true})}clearLeftBarCache();window.location.reload()}$('#globalSetting').on('mouseleave',()=>{$('.reftime-container input').prop('checked',false);setCB()});function clearLeftBarCache(){localStorage.removeItem('l_d_data_USDT_time');localStorage.removeItem('l_d_data_USDT');localStorage.removeItem('l_d_data_margin_USDT');localStorage.removeItem('l_d_data_margin_USDT_time');localStorage.removeItem('margin_leftbar_data');clearIndexedDBCache('leftbar_race_data');clearIndexedDBCache('leftbar_data')}limitUSPopup();function limitUSPopup(){if($.cookie('limituser')!=='1'){$(".js-limitUser-tip").css({'display':'flex'})}$(".js-ususer-close").click(function(){$(".js-limitUser-tip").hide();$.cookie("limituser",'1',{path:'/',expires:getLimitTipsDate()})});if($.cookie('limittour')!=='1'){$(".js-limittour-tip").css({'display':'flex'})}$(".js-ustour-close").click(function(){$(".js-limittour-tip").hide();$.cookie("limittour",'1',{path:'/',expires:getLimitTipsDate()})});$(".igotit-close").click(function(){$(".one_box").hide();$(".again_box").css({'display':'flex'});$.cookie("limittour",'1',{path:'/',expires:getLimitTipsDate()})});$("#linkService2").click(function(){openChatWin(1)})}function getLimitTipsDate(){var timer=new Date();timer.setDate(timer.getDate()+1);timer.setHours(0);timer.setMinutes(0);timer.setSeconds(0);return timer}limitCountryPopup();function limitCountryPopup(){var $limitCountryLayer=$(".js-limit-country");if(sessionStorage.getItem("limitCountryTip")=='1'){$limitCountryLayer.hide()}else{$limitCountryLayer.css({'display':'flex'})}$(".js-limit-country-close").click(function(){$limitCountryLayer.hide();sessionStorage.setItem("limitCountryTip","1")})}let trigged=false;$('#walletSettings,#orderSettings').mouseenter(function(){if(trigged){return}trigged=true;$.get('/cross_margin/portfolio_margin_enable?portfolio_margin_type=USD_PERPETUAL').then(res=>{var ref;if(!!(res===null||res===void 0?void 0:(ref=res.data)===null||ref===void 0?void 0:ref.is_portfolio_margin_futures_enable)){$('.default-hidden-menu').show()}})});function setHeaderBg(){var ref;if('signup'===page_name||page_name=='login'||page_name=='resetpw'||page_name=='resetfpw'||page_name=='newpass'||page_name=='newfpass'||page_name=='ethereum-upgrade-hard-forks'||location.href.match(/activities\/ninth_anniversary/i)||location.href.match(/gatepay/i)){return}var t=document.documentElement.scrollTop||document.body.scrollTop;var header=document.getElementById("headLayout");var logo=document.querySelector(".pc-header-logo");if(!header){return}var isDark=((ref=document.body.getAttribute('class'))===null||ref===void 0?void 0:ref.indexOf('classic-dark'))> -1;if(t>=10){header.style.background=isDark?'#000000':'#ffffff';header.classList.add('scroll-header')}else{if(page_name=='home'){header.style.background=isDark?'transparent':'#E6F0FF'}else{header.style.background='transparent'}header.classList.remove('scroll-header')}}window.onscroll=function(){setHeaderBg()};setTimeout(setHeaderBg,1e3);window.setHeaderBg=setHeaderBg;const forceDarkUrls=[/activities\/ninth_anniversary/i,/competition\/wctc/i,/ethereum-upgrade-hard-forks/i,/activities\/world-cup/i,/activities\/gatenft-world-cup/i,/activity\/vn-wctc-meetup/i,/activities\/christmas-countdown/i,/activities\/ama-bonus/i,/activities\/christmas-present/i,/mini\-app/i,/activities\/new-year-celebration/i,/activities\/lunar-new-year/i,/activities\/nba-predicition/i,];if(forceDarkUrls.some(item=>location.href.match(item))){$('#theme').hide();setTimeout(()=>{$('body').addClass('classic-dark')},1e3)}const forceLightUrls=[/competition\/center\/competitionDetails/i];const deleteDarkTheme=()=>{$('body').removeClass('classic-dark');$('#classicDark')&&$('#classicDark').remove();$('#openSesame_light')&&$('#openSesame_light').removeClass('night_icon')};if(forceLightUrls.some(item=>location.href.match(item))){$('#theme').hide();setTimeout(()=>{deleteDarkTheme()})}$('.no_service_manager').click(function(){$.ajax({type:'post',url:'/json_svr/query_safe',data:{action:'get_customer_manger_bind_info'},success:function(res){if(res.resMsg.code==0){let data=res.data[0];let $dom=$(`
            <div class="has_service_manager">
                <p class="service_manager_title">${customerMangerSetData.service_manager}</p>
                <div class="has_service_manager_bottom">
                    <img class="service_manager_avatar" src="${data.avatar}" alt="">
                    <span class="service_manager_name">${data.name}</span>
                    <img src="/images/usercenter/service_manager.svg" alt="">
                </div>
                <span class="has_service_manager_icon">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M8 14.5C4.41016 14.5 1.5 11.5898 1.5 8C1.5 4.41016 4.41016 1.5 8 1.5C11.5898 1.5 14.5 4.41016 14.5 8C14.5 11.5898 11.5898 14.5 8 14.5ZM7.5 7C7.22386 7 7 7.22386 7 7.5V11.75H8.5C8.77614 11.75 9 11.5261 9 11.25V7H7.5ZM8 6.25C8.55228 6.25 9 5.80228 9 5.25C9 4.69772 8.55228 4.25 8 4.25C7.44772 4.25 7 4.69772 7 5.25C7 5.80228 7.44772 6.25 8 6.25Z" fill="#B8BDCC"/> </svg> 
                    <div class="service_manager_tips">
                      ${customerMangerSetData.service_manager_tips}
                    </div>
                </span>
            </div>
          `);$dom.find('.has_service_manager_bottom').click(function(){window.open(data.telegram_link)});$('.service_manager_content').append($dom);$('.no_service_manager').remove()}}})});$('.has_service_manager .has_service_manager_bottom').click(function(){window.open(customerMangerSetData.telegram_link)})});function notyDialog(opt){var notyEle=`
    <div class="notyDialogBody">
      <span class="notyCloseIcon">
        <svg t="1616394793374" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15855" width="200" height="200"><path d="M512 432.00570437L218.81958661 138.75929014a56.5636224 56.5636224 0 1 0-79.99429392 79.99429562L431.9397035 512l-293.24641591 293.18041339a56.5636224 56.5636224 0 1 0 79.99429563 79.99429394L512 592.0602965l293.18041339 293.24641591a56.5636224 56.5636224 0 1 0 79.99429394-79.99429563L592.0602965 512l293.24641591-293.18041339a56.5636224 56.5636224 0 1 0-79.99429563-79.99429394L512 431.9397035z" fill="#999999" p-id="15856"></path></svg>
      </span>
      ${opt&&opt['icon']?`<div class="notyDialogIconView">${opt['icon']}</div>`:''}
      ${opt&&opt['title']?`<h4>${opt['title']}</h4>`:''}
      ${opt&&opt['text']?`<p>${opt['text']}</p>`:''}
      ${opt&&opt['content']?`${opt['content']}`:''}
      ${opt&&opt['html']?opt.html:''}
    </div>
  `;var btnArr=[];if(opt&&opt['btn']&&opt['btn'].length){var btnLen=opt['btn'].length;var btnData=[{text:lang_string('确定'),class:'btn-primary'},{text:lang_string('取消'),class:'btn-danger'},];for(var i=0;i<btnLen;i++){btnArr.push({addClass:`btn ${opt.btn[i]['class']||btnData[i].class}`,text:opt.btn[i]['text']||btnData[i].text,onClick:typeof opt.btn[i]['click']=='function'?opt.btn[i].click:function(){}})}}var thisNoty=noty({id:opt['id']||'',template:notyEle,type:'confirm',layout:'center',closeWith:['click'],theme:`gateioDialogTheme ${opt&&opt['icon']?'iconDialogTheme':''}`,modal:true,callback:{afterShow:function(){$('.notyCloseIcon').on('click',function(){thisNoty.close()});opt['afterShow']&&opt['afterShow']()},onClose:function(){opt['onClose']&&opt['onClose']();if(opt.afterShow){opt.afterShow()}}},animation:{open:{height:'toggle'},close:{height:'toggle'},easing:'swing',speed:50},buttons:btnArr});return thisNoty}function processMarginRateBig(val){return val>9999.99?'9999.99':val}function outputSeoBaseName(basename){var BASENAME_MAP={tw:'zh-tw',cn:'zh',vn:'vi',br:'pt-br','/tw':'/zh-tw','/cn':'/zh','/vn':'/vi','/br':'/pt-br'};if(BASENAME_MAP[basename]){return BASENAME_MAP[basename]}return basename}let noticeTimeIds=[];function showComponent(component,duration){const id=setTimeout(()=>{container.removeChild(ele)},duration*1e3);noticeTimeIds.push(id);const ele=document.createElement('div');let container=document.getElementById('noticeContainer');if(!container){container=document.createElement('div');container.setAttribute('id','noticeContainer');container.style.position='fixed';container.style.top='104px';container.style.width='100%';container.style.zIndex=99999}ele.style.display='flex';ele.style.justifyContent='center';const root=document.getElementsByTagName('body')[0];root.appendChild(container);container.append(ele);ReactDOM.render(component,ele)}const Notice=props=>{const{title,type,noIcon}=props;const ref=useRef(null);const IconNode=()=>{switch(type){case'success':return h("img",{src:"/images/login/tips-success.svg"});case'error':return h("img",{src:"/images/login/tips-error.svg"});case'warning':return h("img",{src:"/images/login/tips-warn.svg"})}};return h("div",{ref:ref,class:"notice_container"},!noIcon&&IconNode(),h("div",null,title?h("span",{class:"notice_title clr_f1",dangerouslySetInnerHTML:{__html:title}}):null))};const notification=props=>{const{children,duration=3,content}=props,restProps=_objectWithoutProperties(props,["children","duration","content"]);showComponent(h(Notice,_extends({},restProps),content?content():children),duration)};function T_THOUSAND_SEPARATOR_NUM(num){if(typeof num==='number'||typeof num==='string'){return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g,',')}else{console.warn('工具方法类警告: 输入参数并非数字|字符串类型');return num};};(function registerMetaMaskListener(){if(window.ethereum&&$.cookie('is_metamask_login')==='1'){const ModalElement=document.createElement('div');const ModalTextElement=document.createElement('p');const ModalTitleElement=document.createElement('div');const ModalCloseElement=document.createElement('div');const ModalButtonElement=document.createElement('button');ModalCloseElement.innerHTML='<svg class="icon" aria-hidden="true"><use xlink:href="#icona-20px-cuowu"></use></svg>';ModalTitleElement.textContent=is_phone?lang_string('Friendy reminder'):'';ModalTextElement.textContent=lang_string('MetaMask has been logged out, please log in again');ModalButtonElement.textContent=lang_string('知道了');ModalButtonElement.addEventListener('click',()=>{localStorage.removeItem('custom');location.href='/login'});ModalCloseElement.addEventListener('click',()=>{localStorage.removeItem('custom');location.href='/login'});ModalCloseElement.style.cssText=`
      position: absolute;
      top: 24px;
      right: 24px;
      cursor: pointer;
    `;ModalTitleElement.style.cssText=`
      font-size: 20px;
      margin-bottom: 24px;
    `;ModalButtonElement.style.cssText=`
      width: 100%;
      border: none;
      background: var(--brandColor);
      color: #fff;
      height: 40px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
    `;ModalTextElement.style.cssText=`
      margin-bottom: 40px;
      font-size: 14px;
      color: var(--colorFont3);
      line-height: 1.5;
    `;ModalElement.style.cssText=`
      position: fixed;
      box-sizing: border-box;
      top: 50%;
      left: 50%;
      z-index: 99;
      width: ${is_phone?'80%':'500px'};
      background: #fff;
      transform: translate(-50%, -50%);
      border-radius: 16px;
      padding: ${is_phone?'24px':'40px 40px 24px 40px'};
      box-shadow: 0px 0px 0px 10000px rgb(0 0 0 / 85%);
    `;is_phone&&ModalElement.appendChild(ModalTitleElement);ModalElement.appendChild(ModalTextElement);ModalElement.appendChild(ModalButtonElement);ModalElement.appendChild(ModalCloseElement);ModalElement.setAttribute('id','metamask_logout_notice');ModalElement.style.display="none";const root=document.getElementsByTagName('body')[0];root.appendChild(ModalElement);window.ethereum.on('accountsChanged',accounts=>{if(accounts.length===0){ModalElement.style.display="block"}})}})();(function(){let allMarketList=null;let marketMenuConfig=null;let allContractList=null;const MarketListIndexDBVersion=4;const MarketMenuIndexDBVersion=3;const initAllMarketList=async function(){const res=await getDataFromIndexedDB('leftbar_data',60*4);if(res){allMarketList=res;return}await $.ajax({url:'/json_svr/get_leftbar/?u=128&c='+Math.floor(Math.random()*0+1e6),type:'post',success:function(res1){addDataToIndexDB('leftbar_data',res1);allMarketList=res1}})};const initContractList=async function(){const LocalMarketListIndexDBVersion=localStorage.getItem('MarketListIndexDBVersion-header')||0;const LocalMarketListHash=localStorage.getItem('MarketListHash-header')||'';if(LocalMarketListIndexDBVersion<MarketListIndexDBVersion||LocalMarketListHash!=(typeof supported_futures_markets_hash!=='undefined'?supported_futures_markets_hash:'')){await $.ajax({url:'/futures/contracts',type:'get',success:function(res){addDataToIndexDB('proFutureContracts',res);allContractList=res;localStorage.setItem('MarketListIndexDBVersion-header',MarketListIndexDBVersion);if(typeof supported_futures_markets_hash!=='undefined'){localStorage.setItem('MarketListHash-header',supported_futures_markets_hash!==null&&supported_futures_markets_hash!==void 0?supported_futures_markets_hash:'')}}})}else{const res=await getDataFromIndexedDB('proFutureContracts',60*4);if(res){allContractList=res;return}await $.ajax({url:'/futures/contracts',type:'get',success:function(res1){addDataToIndexDB('proFutureContracts',res1);localStorage.setItem('MarketListIndexDBVersion-header',MarketListIndexDBVersion);allContractList=res1}})}};const initMarkeyMenuConfig=async function(){const LocalMarketMenuIndexDBVersion=localStorage.getItem('MarketMenuIndexDBVersion')||0;if(LocalMarketMenuIndexDBVersion<MarketMenuIndexDBVersion){await $.ajax({url:'/json_svr/get_market_menu_config',type:'get',success:function(res){addDataToIndexDB('market_menu_data',res);marketMenuConfig=res;localStorage.setItem('MarketMenuIndexDBVersion',MarketMenuIndexDBVersion)}})}else{const res=await getDataFromIndexedDB('market_menu_data',60*4);if(res){marketMenuConfig=res;return}await $.ajax({url:'/json_svr/get_market_menu_config',type:'get',success:function(res1){addDataToIndexDB('market_menu_data',res1);marketMenuConfig=res1;localStorage.setItem('MarketMenuIndexDBVersion',MarketMenuIndexDBVersion)}})}};const Skeleton=function(rows){let temp='';for(var i=0;i<Number(rows);i++){temp+=`
      <div class="skeleton-container">
        <div class="skeleton-avatar"></div>
        <div class="skeleton-main"></div>
      </div>
    `}return temp};const Empty=function(){return`
    <div class="empty-container">
      <div class="empty-img"></div>
      <div class="empty-title">${lang_string('暂无数据')}</div>
    </div>
  `};let menuType='USDT';const spotTabBarElement=$('.third-nav-tab-header');const inputElement=$('.third-nav-tab-search-input');const tBodyElement=$('.third-nav-tab-body');const delIconElement=$('.third-nav-tab-search-input-del-icon');$('#trade-second-li').mouseenter(function(){$('#header-trade-third-nav').show();if($().lazyload!==undefined){$('img.third-nav-tab-body-item-icon').lazyload({container:$('ul.third-nav-tab-body')})}});$('#trade-second-li').mouseleave(function(){$('#header-trade-third-nav').hide()});$('#header-trade-third-nav').mouseenter(function(){$(this).show()});$('#header-trade-third-nav').mouseleave(function(){$(this).hide()});const handleSearch=function(val){let searchText=val.toLowerCase();if(searchText===''){RenderCoinRow();return}const selectedTab=marketMenuConfig?marketMenuConfig.find(o=>o.market==='SPOT'):null;if(!selectedTab){return}const subMenu=selectedTab.sub.map(o=>{if(o.market.toUpperCase()==='USD_S'){return'USDT'}return o.market});let sortData={arr1:[],arr2:[],arr3:[],arr4:[],arr5:[]};function searchItem(item,sort){var ref,ref1,ref2;let c_a=item.curr_a.toLowerCase();let c_b=item.curr_b.toLowerCase();const fullName=`${c_a}/${c_b}`;if(sort===0&&c_a===searchText){sortData.arr1.push(item)}else if(sort===1&&c_b===searchText){sortData.arr2.push(item)}else if(sort===2&&c_a.indexOf(searchText)> -1){sortData.arr3.push(item)}else if(sort===3&&c_b.indexOf(searchText)> -1){sortData.arr4.push(item)}else if(sort===4&&(((ref=item.name)===null||ref===void 0?void 0:ref.toLowerCase().indexOf(searchText))> -1||is_cn&&((ref1=item.name_cn)===null||ref1===void 0?void 0:ref1.toLowerCase().indexOf(searchText))> -1||((ref2=item.name_en)===null||ref2===void 0?void 0:ref2.toLowerCase().indexOf(searchText))> -1||fullName.indexOf(searchText)> -1)){sortData.arr5.push(item)}}Object.keys(sortData).forEach((sortKey,index)=>{Object.keys(allMarketList).forEach(key=>{const findSubIndex=subMenu.concat(['TRY']).indexOf(key.toUpperCase())!== -1;if(findSubIndex){let data=allMarketList[key];if(data){if(Array.isArray(data)){for(let i=0;i<data.length;i++){let item=data[i];searchItem(item,index)}}else{Object.keys(data).forEach(dataKey=>{const item=data[dataKey];searchItem(item,index)})}}}})});let searchArr=[...sortData.arr1,...sortData.arr2,...sortData.arr3,...sortData.arr4,...sortData.arr5];let obj={};searchArr=searchArr.reduce((item,next)=>{if(!obj[`${next.curr_a}_${next.curr_b}`]){obj[`${next.curr_a}_${next.curr_b}`]=true;item.push(next)}return item},[]);RenderCoinRow(searchArr)};const handleDelIcon=function(val){if(val!==''){delIconElement.show()}else{delIconElement.hide()}};delIconElement.click(function(e){inputElement.val('');handleSearch('');$(this).hide()});let typing=false;inputElement.on('compositionstart',function(){typing=true});inputElement.on('compositionend',function(){const val=$(this).val();handleSearch(val);handleDelIcon(val);typing=false});inputElement.on('input',function(){if(typing){return}const val=$(this).val();handleSearch(val);handleDelIcon(val)});inputElement.focus(function(){$('.third-nav-tab-search').addClass('third-nav-tab-search-focus inputFocus')});inputElement.blur(function(){$('.third-nav-tab-search').removeClass('third-nav-tab-search-focus inputFocus')});const createListEle=function(filterData){if(allMarketList===null){return}let temp='';const allData=filterData||Object.values(allMarketList[menuType]||[]);const list=allData.slice(0,40);if(list.length===0){return Empty()}list.forEach(item=>{const{curr_a,curr_b,name,pair}=item;if(!curr_a||!curr_b){return};temp+=`
          <li onclick="window.location.href='/trade/${pair.toUpperCase()}'" class="third-nav-tab-body-item">
            <div>
              <div class="third-nav-tab-body-item-left">
                <img class="third-nav-tab-body-item-icon" data-original='/images/coin_icon/64/${curr_a.toLowerCase()}.png' alt="${curr_a}/${curr_b}" width="28" height="28" />
                <div>
                  <a href="/trade/${pair.toUpperCase()}" title="${curr_a}/${curr_b}" class="third-nav-tab-body-item-title">${curr_a}/${curr_b}</a>
                  <div class="third-nav-tab-body-item-desc">${name||'-'}</div>
                </div>
              </div>
            </div>
            <svg class="nav-moreSvg" width="7" height="10" viewBox="0 0 7 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.00001 1L5 5L1 9" stroke="#04091A" stroke-width="2"/></svg>
          </li>
        `});return temp};const getMenuMap=function(type){if(marketMenuConfig===null){return}const currentTab=marketMenuConfig.find(o=>o.market===type)||{};return currentTab.sub||[]};const createTabBar=function(){const menuMap=getMenuMap('SPOT');let temp='';const len=menuMap.length;for(let i=1;i<len;i++){const{title,market}=menuMap[i];const menuName=title[g_lang]||title.en;if(i===1){temp+=`
        <div class="third-nav-tab-header-item third-nav-tab-header-item-current" market="${market}">${menuName}</div>
      `}if(i>1&&i<5){temp+=`
        <div class="third-nav-tab-header-item" market="${market}">${menuName}</div>
      `}if(i===5){temp+=`
        <div class="third-nav-tab-header-item third-nav-tab-header-item-last">
          <span class="third-nav-tab-header-item-last-text">${lang_string('Zones')}</span>
          <svg class="icon top-menu-arrow" aria-hidden="true">
            <use xlink:href="#icona-8px-daohangcaidanjiantou"></use>
          </svg>
          <div class="third-nav-tab-header-item-extra-mask">
            <ul class="third-nav-tab-header-item-extra">
            <li market="${market}">${menuName}</li>
      `}if(i>5){temp+=`<li market="${market}">${menuName}</li>`}if(i===len-1){temp+=`</ul></div></div>
      `}}return temp};const RenderCoinRow=function(filterData){tBodyElement.html(createListEle(filterData));if($().lazyload!==undefined){$('img.third-nav-tab-body-item-icon').lazyload({container:$('ul.third-nav-tab-body')})}};const RenderTabBar=function(){spotTabBarElement.html(createTabBar());$('.third-nav-tab-header-item').click(function(){const index=$(this).index();if(index===4){return}const type=$(this).attr('market').toUpperCase();inputElement.val('');handleDelIcon('');menuType=type==='USD_S'?'USDT':type;$(this).addClass('third-nav-tab-header-item-current').siblings().removeClass('third-nav-tab-header-item-current');$('.third-nav-tab-header-item-last-text').text(lang_string('Zones'));RenderCoinRow()});$('.third-nav-tab-header-item-extra').click(function(e){e.preventDefault();menuType=$(e.target).attr('market').toUpperCase();const title=e.target.innerText;inputElement.val('');handleDelIcon('');$('.third-nav-tab-header-item-last-text').text(title);$('.third-nav-tab-header-item-last').addClass('third-nav-tab-header-item-current').siblings().removeClass('third-nav-tab-header-item-current');RenderCoinRow()})};let scrollLock=false;tBodyElement.scroll(function(){if($(this).scrollTop()>=450&&!scrollLock){$('.third-nav-tab-footer').show();scrollLock=true;return}if($(this).scrollTop()<=450&&scrollLock){scrollLock=false;$('.third-nav-tab-footer').hide();return}});let contractMenuType='CONTRACT_USDT';const contractTabBarElement=$('.contract-third-nav-tab-header');const contractInputElement=$('.contract-third-nav-tab-search-input');const contractTBodyElement=$('.contract-third-nav-tab-body');const contractDelIconElement=$('.contract-third-nav-tab-search-input-del-icon');$('#contract-second-li').mouseenter(function(){$('#header-contract-third-nav').show();if($().lazyload!==undefined){$('img.contract-third-nav-tab-body-item-icon').lazyload({container:$('ul.contract-third-nav-tab-body')})}});$('#contract-second-li').mouseleave(function(){$('#header-contract-third-nav').hide()});$('#header-contract-third-nav').mouseenter(function(){$(this).show()});$('#header-contract-third-nav').mouseleave(function(){$(this).hide()});const filterType=function(){const futuresContractsData=allContractList.futures_contracts_data||{};const{CONTRACT_USDT=[],CONTRACT_USD=[],CONTRACT_BTC=[]}=futuresContractsData;const flatData=[...CONTRACT_USDT,...CONTRACT_USD,...CONTRACT_BTC];if(contractMenuType=='CONTRACT_USDT'||contractMenuType=='CONTRACT_USD'||contractMenuType=='CONTRACT_BTC'){return futuresContractsData[contractMenuType]}else{const res=flatData.filter(i=>{const up=i.category.map(i1=>{return i1.toUpperCase()});return up.includes(contractMenuType.toUpperCase())});return res}};const handleContractSearch=function(val){let searchText=val.toLowerCase();const{CONTRACT_USDT=[],CONTRACT_USD=[],CONTRACT_BTC=[]}=allContractList.futures_contracts_data||{};const flatData=[...CONTRACT_USDT,...CONTRACT_USD,...CONTRACT_BTC];if(searchText===''){RenderContractCoinRow();return}const searchList=flatData.filter(e=>e.full_name.toLowerCase().match(searchText.toLowerCase())!=null);RenderContractCoinRow(searchList)};const handleContractDelIcon=function(val){if(val!==''){contractDelIconElement.show()}else{contractDelIconElement.hide()}};const getContractMenuMap=function(){if(marketMenuConfig===null){return[]}const futureSettleTab=[{market:'CONTRACT_USDT',title:{en:'USDT-M'}},{market:'CONTRACT_BTC',title:{en:'BTC-M'}},];const currentTab=marketMenuConfig.find(o=>o.market==='CONTRACT')||{};const tabArr=currentTab.sub||[];return[...futureSettleTab,...tabArr]};const createContractTabBar=function(){const menuMap=getContractMenuMap();let temp='';const len=menuMap.length;for(let i=0;i<len;i++){const{title,market}=menuMap[i];const menuName=title[g_lang]||title.en;if(i===0){temp+=`
        <div class="contract-third-nav-tab-header-item contract-third-nav-tab-header-item-current" market="${market}">${menuName}</div>
      `}if(i>0&&i<3){temp+=`
        <div class="contract-third-nav-tab-header-item" market="${market}">${menuName}</div>
      `}if(i===3){temp+=`
        <div class="contract-third-nav-tab-header-item contract-third-nav-tab-header-item-last">
          <span class="contract-third-nav-tab-header-item-last-text" market="${market}">${menuName}</span>
          <svg class="icon top-menu-arrow" aria-hidden="true">
            <use xlink:href="#icona-8px-daohangcaidanjiantou"></use>
          </svg>
          <div class="contract-third-nav-tab-header-item-extra-mask">
            <ul class="contract-third-nav-tab-header-item-extra">
            <li market="${market}">${menuName}</li>
      `}if(i>3){temp+=`<li market="${market}">${menuName}</li>`}if(i===len-1){temp+=`</ul></div></div>
      `}}return temp};const createContractListEle=function(filterData){if(allContractList===null){return}const futuresContractsData=allContractList.futures_contracts_data||{};let temp='';const allData=filterData||Object.values(futuresContractsData['CONTRACT_USDT']||[]);const list=allData.slice(0,40);if(list.length===0){return Empty()}list.forEach(item=>{const{full_name,settle_coin,name,coin_name}=item;temp+=`
          <li onclick="window.location.href='/futures/${settle_coin.toUpperCase()}/${name}'" class="contract-third-nav-tab-body-item">
            <div>
              <div class="contract-third-nav-tab-body-item-left">
                <img class="contract-third-nav-tab-body-item-icon" data-original='/images/coin_icon/64/${name.split('_')[0].toLowerCase()}.png' alt="${name.split('_')[0]}" width="28" height="28" />
                <div>
                  <a href="/futures/${settle_coin.toUpperCase()}/${name}" title="${full_name} Perpetual Futures" class="contract-third-nav-tab-body-item-title">${full_name}</a>
                  <div class="contract-third-nav-tab-body-item-desc">${coin_name||'-'}</div>
                </div>
              </div>
            </div>
            <svg class="nav-moreSvg" width="7" height="10" viewBox="0 0 7 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.00001 1L5 5L1 9" stroke="#04091A" stroke-width="2"/></svg>
          </li>
        `});return temp};contractDelIconElement.click(function(e){contractInputElement.val('');handleContractSearch('');$(this).hide()});contractInputElement.on('compositionstart',function(){typing=true});contractInputElement.on('compositionend',function(){const val=$(this).val();handleContractSearch(val);handleContractDelIcon(val);typing=false});contractInputElement.on('input',function(){if(typing){return};const val=$(this).val();handleContractSearch(val);handleContractDelIcon(val)});contractInputElement.focus(function(){$('.contract-third-nav-tab-search').addClass('contract-third-nav-tab-search-focus inputFocus')});contractInputElement.blur(function(){$('.contract-third-nav-tab-search').removeClass('contract-third-nav-tab-search-focus inputFocus')});const RenderContractCoinRow=function(filterData){contractTBodyElement.html(createContractListEle(filterData));if($().lazyload!==undefined){$('img.contract-third-nav-tab-body-item-icon').lazyload({container:$('ul.contract-third-nav-tab-body')})}};const RenderContractTabBar=function(){contractTabBarElement.html(createContractTabBar());$('.contract-third-nav-tab-header-item').click(function(){const index=$(this).index();if(index===3){return}const type=$(this).attr('market').toUpperCase();contractMenuType=type;contractInputElement.val('');handleContractDelIcon('');$(this).addClass('contract-third-nav-tab-header-item-current').siblings().removeClass('contract-third-nav-tab-header-item-current');const thisMenu=getContractMenuMap();var ref;const thislast=(ref=thisMenu[3])!==null&&ref!==void 0?ref:{"market":"HOT","title":{"en":"Hot","cn":"热门"}};const menuName=thislast.title[g_lang]||thislast.title.en;$('.contract-third-nav-tab-header-item-last-text').text(menuName);RenderContractCoinRow(filterType())});$('.contract-third-nav-tab-header-item-extra').click(function(e){e.preventDefault();contractMenuType=$(e.target).attr('market').toUpperCase();const title=e.target.innerText;contractInputElement.val('');handleContractDelIcon('');$('.contract-third-nav-tab-header-item-last-text').text(title);$('.contract-third-nav-tab-header-item-last').addClass('contract-third-nav-tab-header-item-current').siblings().removeClass('contract-third-nav-tab-header-item-current');RenderContractCoinRow(filterType())})};let contractLock=false;contractTBodyElement.scroll(function(){if($(this).scrollTop()>=450&&!contractLock){$('.contract-third-nav-tab-footer').show();contractLock=true;return}if($(this).scrollTop()<=450&&contractLock){contractLock=false;$('.contract-third-nav-tab-footer').hide();return}});(async function(){tBodyElement.html(Skeleton(5));contractTBodyElement.html(Skeleton(5));await initMarkeyMenuConfig();RenderTabBar();RenderContractTabBar();await initAllMarketList();RenderCoinRow();await initContractList();RenderContractCoinRow()})()})();$('.newYear_icon').click(function(e){e.preventDefault();window.location.href=`/activities/new-year-celebration?ch=NewYearCelebration_AN_20230104&utm_campaign=TR_hPNrVJLn&utm_content=&utm_medium=CPM&utm_source=CH_79kTf7RP&utm_term=`})